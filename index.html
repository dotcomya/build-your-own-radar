<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My TechRadar</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tech-radar@latest/dist/tech-radar.css">
</head>
<body>
    <h1>Welcome to My TechRadar</h1>
    <div id="radar"></div>

    <script src="https://cdn.jsdelivr.net/npm/tech-radar@latest/dist/tech-radar.js"></script>
    <script>
        // URL de ton Google Sheet publié
        const googleSheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSALvjRecumaooC5rKhyeEpQVI-5MDVMp-39JOh_avGtdODpLsJsImXadKVU_VNAfP6hhjOFnxN8Uku/pub?output=csv'; // Remplace cette URL par celle de ton Sheet

        // Récupérer les données du Google Sheet (au format CSV)
        fetch(googleSheetUrl)
            .then(response => response.text()) // Récupérer les données en texte (CSV)
            .then(csvData => {
                // Convertir le CSV en format JSON
                const rows = csvData.split('\n');
                const header = rows[0].split(','); // La première ligne contient les titres
                const data = rows.slice(1).map(row => {
                    const values = row.split(',');
                    let techData = {};
                    header.forEach((key, i) => {
                        techData[key] = values[i];
                    });
                    return techData;
                });

                // Afficher le radar avec les données extraites
                new TechRadar({ data: data }).render();
            })
            .catch(err => console.error('Erreur lors de la récupération des données :', err));
    </script>
</body>
</html>
